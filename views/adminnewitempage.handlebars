<!DOCTYPE html>
<html lang="en">

<style>
  #form{margin-left:25%;margin-right:25%;}
  @media only screen and (max-width: 600px) {
  #form{margin-left:10%;margin-right:10%;}

  }
  @media only screen and (max-width: 900px) {
  #form{margin-left:10%;margin-right:10%;}

  }
</style>

<link href="/css/admin/adminreg.css" rel="stylesheet">
<link href="/css/admin/bootstrap.min.css" rel="stylesheet">
<link href="/css/admin/sb-admin.min.css" rel="stylesheet">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" type="image/x-icon" href="/logos/logo_bottom.png" />
  <title>Add New Items</title>
  <!-- Bootstrap core CSS-->
  <link href="/css/admin/bootstrap.min.css" rel="stylesheet">
  <!-- Custom fonts for this template-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Custom styles for this template-->
  <link href="/css/admin/sb-admin.min.css" rel="stylesheet">
  
  
  
  
</head>

<body class="fixed-nav sticky-footer bg-dark" id="page-top">
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
    <a class="navbar-brand" href="index.html">Admin Area</a></a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive" >
      <ul class="navbar-nav navbar-sidenav" id="exampleAccordion" style="overflow-y:scroll;">
        <li class="nav-item">
            <div class="text-center admin-details">
                <img src="/logos/admin_logo.png" style="width:20%" class="img-responsive">
                <pre class="nav-link-text" style="color:white;">{{admindetails.name}}</pre>
                <pre class="nav-link-text" style="color:white;">{{admindetails.categoryname}}</pre>
            </div>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Dashboard">
          <a class="nav-link" href="/admin/dashboard">
            <i class="fa fa-fw fa-dashboard"></i>
            <span class="nav-link-text">Dashboard</span>
          </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Charts">
          <a class="nav-link" href="charts.html">
            <i class="fa fa-fw fa-area-chart"></i>
            <span class="nav-link-text">Charts</span>
          </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Tables">
          <a class="nav-link" href="tables.html">
            <i class="fa fa-fw fa-table"></i>
            <span class="nav-link-text">Orders</span>
          </a>
        </li>

        <!--category settings-->
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Components">
          <a class="nav-link nav-link-collapse collapsed" data-toggle="collapse" href="#collapseComponents" data-parent="#exampleAccordion">
            <i class="fa fa-fw fa-briefcase"></i>
            <span class="nav-link-text">Caregories</span>
          </a>
          <ul class="sidenav-second-level collapse" id="collapseComponents">
            <li>
              <a href="/admin/dashboard/item/category/level1">Level 1 - Size</a>
            </li>
            <li>
              <a href="/admin/dashboard/item/category/level2">Level 2 - Gender</a>
            </li>
            <li>
              <a href="/admin/dashboard/item/category/level3">Level 3 - Events</a>
            </li>
            <li>
              <a href="/admin/dashboard/item/category/level4">Level 4 - Item Type</a>
            </li>
          </ul>
        </li>

        <!--item settings-->
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Example Pages">
          <a class="nav-link nav-link-collapse collapsed" data-toggle="collapse" href="#collapseExamplePages" data-parent="#exampleAccordion">
            <i class="fa fa-fw fa-shopping-bag"></i>
            <span class="nav-link-text">Items</span>
          </a>
          <ul class="sidenav-second-level collapse" id="collapseExamplePages">
            <li>
              <a href="login.html">All items</a>
            </li>
            <li>
              <a href="register.html">Add new item</a>
            </li>
            <li>
              <a href="forgot-password.html">Search item</a>
            </li>
            <li>
              <a href="blank.html">Blank Page</a>
            </li>
          </ul>
        </li>

        <!--carousel settings-->
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Components">
          <a class="nav-link nav-link-collapse collapsed" data-toggle="collapse" href="#carouselsComponents" data-parent="#exampleAccordion">
            <i class="fa fa-fw fa-sliders"></i>
            <span class="nav-link-text">Carousels</span>
          </a>
          <ul class="sidenav-second-level collapse" id="carouselsComponents">
            <li>
              <a href="/admin/dashboard/carousel">View Carousels</a>
            </li>
            <li>
              <a href="/admin/dashboard/carousel/new">Add New Carousel</a>
            </li>
          </ul>
        </li>

        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Menu Levels">
          <a class="nav-link nav-link-collapse collapsed" data-toggle="collapse" href="#collapseMulti" data-parent="#exampleAccordion">
            <i class="fa fa-fw fa-sitemap"></i>
            <span class="nav-link-text">Menu Levels</span>
          </a>
          <ul class="sidenav-second-level collapse" id="collapseMulti">
            <li>
              <a href="#">Second Level Item</a>
            </li>
            <li>
              <a href="#">Second Level Item</a>
            </li>
            <li>
              <a href="#">Second Level Item</a>
            </li>
            <li>
              <a class="nav-link-collapse collapsed" data-toggle="collapse" href="#collapseMulti2">Third Level</a>
              <ul class="sidenav-third-level collapse" id="collapseMulti2">
                <li>
                  <a href="#">Third Level Item</a>
                </li>
                <li>
                  <a href="#">Third Level Item</a>
                </li>
                <li>
                  <a href="#">Third Level Item</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Link">
          <a class="nav-link" href="/admin/dashboard/website/theme">
            <i class="fa fa-fw fa-link"></i>
            <span class="nav-link-text">website Theme</span>
          </a>
        </li>
      </ul>
      <ul class="navbar-nav sidenav-toggler">
        <li class="nav-item">
          <a class="nav-link text-center" id="sidenavToggler">
            <i class="fa fa-fw fa-angle-left"></i>
          </a>
        </li>
      </ul>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown" >
          <a class="nav-link dropdown-toggle mr-lg-2" id="messagesDropdown" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-fw fa-envelope"></i>
            <span class="d-lg-none">Messages
              <span class="badge badge-pill badge-primary">12 New</span>
            </span>
            <span class="indicator text-primary d-none d-lg-block">
              <i class="fa fa-fw fa-circle"></i>
            </span>
          </a>
          <div class="dropdown-menu" aria-labelledby="messagesDropdown">
            <h6 class="dropdown-header">New Messages:</h6>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <strong>David Miller</strong>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">Hey there! This new version of SB Admin is pretty awesome! These messages clip off when they reach the end of the box so they don't overflow over to the sides!</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <strong>Jane Smith</strong>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">I was wondering if you could meet for an appointment at 3:00 instead of 4:00. Thanks!</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <strong>John Doe</strong>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">I've sent the final files over to you for review. When you're able to sign off of them let me know and we can discuss distribution.</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item small" href="#">View all messages</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle mr-lg-2" id="alertsDropdown" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-fw fa-bell"></i>
            <span class="d-lg-none">Alerts
              <span class="badge badge-pill badge-warning">6 New</span>
            </span>
            <span class="indicator text-warning d-none d-lg-block">
              <i class="fa fa-fw fa-circle"></i>
            </span>
          </a>
          <div class="dropdown-menu" aria-labelledby="alertsDropdown">
            <h6 class="dropdown-header">New Alerts:</h6>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <span class="text-success">
                <strong>
                  <i class="fa fa-long-arrow-up fa-fw"></i>Status Update</strong>
              </span>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">This is an automated server response message. All systems are online.</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <span class="text-danger">
                <strong>
                  <i class="fa fa-long-arrow-down fa-fw"></i>Status Update</strong>
              </span>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">This is an automated server response message. All systems are online.</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <span class="text-success">
                <strong>
                  <i class="fa fa-long-arrow-up fa-fw"></i>Status Update</strong>
              </span>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">This is an automated server response message. All systems are online.</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item small" href="#">View all alerts</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="modal" data-target="#exampleModal">
            <i class="fa fa-fw fa-sign-out"></i>Logout</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="content-wrapper">
    <div class="container">
		<div class="container">
            <!--content-->
			<form class="form-horizontal" id="form" action="/admin/dashboard/item/new" method="post" enctype="multipart/form-data">
				<div class="form-group">
					<label class="control-label col-sm-12" for="item">Item Name:</label>
					<div class="col-sm-12">
					  <input name="name"type="text" class="form-control" id="item" placeholder="ENTER ITEM NAME" required>
					</div>
				  </div>
				  
			  <div class="form-group">
				<label class="control-label col-sm-12" for="item">Price of the item:</label>
				<div class="col-sm-12">
				  <input name="price" type="number" class="form-control" id="item_price" placeholder="ENTER PRICE OF THE ITEM" required>
				</div>
			  </div>
        <div class="form-group">
				  <label class="control-label col-sm-12" onchange="setSizeSelection(this.value)">Select Item Type:</label>
				  <div class="col-sm-12">
					  <select name="item_type" class="form-control" id="cat4">
						{{#each category4}}
							<option value='{{this.name}}'>{{this.name}}</option>
						{{/each }}
					  </select>
					</div>  
				</div>  
				<div class="form-group">
				  <label class="control-label col-sm-12" for="cat1">Select Size:</label>
				  <div class="col-sm-12">
					  <select name="size" class="form-control" id="cat1" >
					  </select>
					</div>  
				</div>  
				<div class="form-group">
				  <label class="control-label col-sm-12" for="cat2">Select Target Gender:</label>
				  <div  class="col-sm-12">
					  <select name="gender" class="form-control" id="cat2">
						<option>MALE</option>
						<option>FEMALE</option>
						<option>BOTH MALE & FEMALE</option>
					  </select>
					</div>  
				</div>  
				<div class="form-group">
				  <label class="control-label col-sm-12" for="cat3">Select Event Type:</label>
				  <div class="col-sm-12">
					  <select name="event_type" class="form-control" id="cat3">
						<option> </option>
						{{#each category3}}
							<option>{{this.name}}</option>
						{{/each}}	
					  </select>
					</div>  
				</div>  
				<div class="form-group">
				  <label class="control-label col-sm-12" for="tags">Add tags (Please Use CSV)</label>
				  <div class="col-sm-12">
					  <textarea  rows="2" type="text" name="tags" class="form-control" id="tags">
              </textarea>
					</div>  
				</div>  
								
				<div class="form-group">
          <label class="control-label col-sm-12">Add Images</label>
          <div  class="col-sm-12 text-center">
            <input  name="file" id="file-input" type="file" multiple required/>
            <button  type="button" onclick="resetFunc()" class="btn">DELETE</button>
          </div>
        </div>

        <div id="preview" class="row">
        
        </div>
        <br>
				<div class="form-group"> 
					<div class="col-sm-12 text-center">
					  <button type="submit" id="submit" name="submit" class="btn btn-default ">Submit</button>
					</div>
				  </div>
			
			
			</form>

      

		
		</div>
    </div>
    <!-- /.container-fluid-->
    <!-- /.content-wrapper-->
    <footer class="sticky-footer">
      <div class="container">
        <div class="text-center">
          <small>Copyright © The Originals 2018</small>
        </div>
      </div>
    </footer>
    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fa fa-angle-up"></i>
    </a>
    <!-- Logout Modal-->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">Do you want to logout</div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
            <form method="GET" action="/admin/logout">
                <input class="btn btn-primary" type="submit" name="logout" value="Logout">
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- Bootstrap core JavaScript-->
    <script src="/js/admin/jquery.min.js"></script>
    <script src="/js/admin/bootstrap.bundle.min.js"></script>
    <!-- Core plugin JavaScript-->
    <script src="/js/admin/jquery.easing.min.js"></script>
    <!-- Custom scripts for all pages-->
    <script src="/js/admin/sb-admin.min.js"></script>
  </div>
</body>


<script>    



    function resetFunc(){

      $("#submit").attr("disabled", false);
      //console.log("reset");
      var list = document.getElementById("preview");
      //console.log(list.length);
      while (list.hasChildNodes()) {   
        console.log("removed");
        list.removeChild(list.firstChild);
      }
      document.getElementById("file-input").value = "";
    //$("#file-input").load();

    }


//    var a=1;


function previewImages() {
$("#preview img").remove();
$("#preview div").remove();

console.log($("#file-input")[0].files.length );
if($("#file-input")[0].files.length>6)
{
  $("#preview").append("<div class='col-12'>You can't upload more than 6 image</div>");
  console.log("You can't upload more than 6 image");
    
  $("#submit").attr("disabled", "disabled");

  return;
}
  var preview = document.querySelector('#preview');
  
  if (this.files) {
    [].forEach.call(this.files, readAndPreview);
  }

  
  function readAndPreview(file) {

    // Make sure `file.name` matches our extensions criteria
    if (!/\.(jpe?g|png)$/i.test(file.name)) {
      return alert(file.name + " is not an image");
    } // else...
    
    var reader = new FileReader();
    
    reader.addEventListener("load",function() {
      
      //console.log(a);
      $("#preview").append("<img width='100px' height='100px' class='col-md-4 col-sm-6 col-xs-8' src='"+this.result+"'></img>");
      //$("#preview").append("<p class='col-sm-3 class"+a+"'>"+file.name+"</p>");
      //$("#preview").append("<p class='col-sm-3 class"+a+"' >size"+file.size+"</p>");
      //$("#preview").append("<button  type='button' class='col-sm-3 class"+a+" btn remove-this-item'>Remove</button>");
      //$("#preview").append("<br class='class"+a+"'/>");
      //a++;  
      //var name= document.createTextNode(file.name);
      //name.className("col-sm-3");
      //console.log(file.name);
      //var image = new Image();
      //image.height = 100;
      //image.width=100
      //image.title  = file.name;
      //image.src    = this.result;

      //preview.appendChild(image);
      //preview.appendChild(name);
    }, false);
    
    reader.readAsDataURL(file);
    
  }

}

document.querySelector('#file-input').addEventListener("change", previewImages, false);



/*
 $('.remove-this-item').on('click',function(){
    console.log("remove called");
    var class = $(this).attr("class").split(' ')[1]);
    console.log(class);
    $(class).remove();
  });




  });

*/

 
/*function remove_Image()
{
  console.log("remove called");
  var class = $(this).attr("class").split(' ')[1]);
  console.log(class);
  $(class).remove();
}*/
/*
$('#removeButton').click(function(){
  console.log("remove called");
  var class=$(this).attr('class').split(' ')[1]);
  console.log(class);
  $(class).remove();
})*/
</script>
<script>
 $('#cat4').on('click', function() {


    $("#cat1 option").remove();

    console.log("changed");
    var str=$("#cat4").val();
    console.log(str);
   
    $.ajax({
      type: "POST",
      url: "/admin/dashboard/category1",
      data: {category4:str},
      success: function(result){
        
        var s=JSON.parse(result);
        console.log(s);
        $.each( s, function( key, value ) {
          console.log( key + ": " + value );
          $("#cat1").append("<option value='"+value+"'>"+value+"</option>");
          //console.log("<option value='"+value+"'>"+value+"</option>");
        });

      },
      error: function(){console.log(result);},
      dataType: "text"
    });  
  });         
</script>

</html>